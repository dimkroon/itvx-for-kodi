<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="plugin.video.viwx" name="viwX" version="1.7.4" provider-name="Dimitri Kroon">
  <requires>
    <import addon="xbmc.python" version="3.0.0"/>
    <import addon="inputstream.adaptive" version="19.0.5"/>
    <import addon="script.module.requests" version="2.31.0"/>
    <import addon="script.module.backports.zoneinfo" version="0.2.1"/>
    <import addon="script.module.tzdata" version="0.2.1"/>
    <import addon="script.module.tzlocal" version="5.0.1"/>
    <import addon="script.module.codequick" version="1.0.3"/>
    <import addon="script.module.inputstreamhelper" version="0.8.3"/>
  </requires>
  <extension point="xbmc.python.pluginsource" library="addon.py">
    <provides>video</provides>
  </extension>
  <extension point="kodi.context.item">
    <menu id="kodi.core.main">
      <menu>
        <label>Watch from ...</label>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=0.5">
            <label>0.5 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=1">
            <label>1 Hr back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=1.5">
            <label>1.5 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=2">
            <label>2 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=2.5">
            <label>2.5 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=3">
            <label>3 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=3.5">
            <label>3.5 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
        <item library="ctxmenu.py" args="function=ctxmnu_live_play_from&amp;startpoint=4">
            <label>4 Hrs back</label>
            <visible>ListItem.Property(viwx.live_channel)</visible>
        </item>
      </menu>
    </menu>
  </extension>
  <extension point="xbmc.addon.metadata">
    <platform>all</platform>
    <summary lang="en_GB">Live TV and video on-demand from ITVX (UK only, ITVX account required)</summary>
    <description lang="en_GB">
      A Vibrant ITVX Web eXperience. Play live TV and video on-demand from the webservices of British broadcaster ITV. An ITVX account is required, either free or premium, to play any stream.[CR][CR]This add-on is not developed by ITV and is in no way affiliated with, or endorsed by ITV.
    </description>
    <disclaimer lang="en_GB">
      This addon is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    </disclaimer>
    <language>en</language>
    <license>GPL-2.0-or-later</license>
    <forum>https://forum.kodi.tv/showthread.php?tid=374239</forum>
    <source>https://github.com/dimkroon/itvx-for-kodi</source>
    <assets>
      <icon>resources/icon.png</icon>
      <fanart>resources/fanart.png</fanart>
    </assets>
    <news>
[B]v 1.7.4[/B]
- Fixed collection list was empty due to changes at ITVX.
- Re-enabled inputstream helper.
    </news>
    <reuselanguageinvoker>true</reuselanguageinvoker>
  </extension>
</addon>
